<div class="container mx-auto px-4 py-8">
  <rb-back-button (clicked)="goBack()" />

  @if (store.loading()) {
    <div class="flex justify-center items-center h-96">
      <div class="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-600"></div>
    </div>
  }

  @if (offer()) {
    <rb-offer-details-content
      [offer]="offer()!"
      [showPurchaseForm]="showPurchaseForm()"
      [purchaseMessage]="purchaseMessage()"
      [purchaseSuccess]="purchaseSuccess()"
      [loading]="store.loading()"
      (voteUp)="voteUp()"
      (voteDown)="voteDown()"
      (showForm)="showPurchaseForm.set(true)"
      (confirmPurchase)="confirmPurchase($event)"
      (cancelPurchase)="cancelPurchase()"
    />
  }

  @if (!store.loading() && !offer()) {
    <rb-offer-not-found (goBack)="goBack()" />
  }
</div>
